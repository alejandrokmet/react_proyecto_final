(this["webpackJsonpalejandro-kmet"]=this["webpackJsonpalejandro-kmet"]||[]).push([[0],{62:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c(51),n=c.n(r),i=(c(62),c(21)),s=c.p+"static/media/carrito.f2edf70f.png",o=c(3);var j=function(e){var t=e.cantidadProductos;return Object(o.jsx)("div",{className:"carritoNav",children:Object(o.jsxs)(i.c,{to:"/carrito",children:[Object(o.jsx)("img",{src:s,style:{width:"3rem",height:"2rem"},alt:"imagen en proceso"}),t>0?Object(o.jsx)("p",{id:"contadorCarrito",className:"text-white",children:t}):Object(o.jsx)("p",{})]})})},l=c(6),d=c(10),b=Object(a.createContext)(),u=b.Provider;function O(){return Object(a.useContext)(b)}var m=function(e){var t=e.children,c=Object(a.useState)(JSON.parse(localStorage.getItem("carrito"))||[]),r=Object(d.a)(c,2),n=r[0],i=r[1],s=Object(a.useState)(0),j=Object(d.a)(s,2),b=j[0],O=j[1];function m(e){return n.some((function(t){return t.id===e.id}))}Object(a.useEffect)((function(){var e=0;localStorage.getItem("carrito")&&JSON.parse(localStorage.getItem("carrito")).map((function(t){return e+=t.cantidad})),O(e)}),[]);var x={cart:n,cantidadProductos:b,addToCart:function(e,t){console.log(m(e));var c=n.slice(0),a=c.findIndex((function(t){return t.id===e.id}));-1===a?c.push(Object(l.a)(Object(l.a)({},e),{},{cantidad:t})):c[a].cantidad+=t,i(c),O(b+t),localStorage.setItem("carrito",JSON.stringify(c))},isInCart:m,delToCart:function(e){var t=n.slice(0),c=t.filter((function(t){return t.id!==e})),a=t.find((function(t){return t.id===e})).cantidad;i(c),O(b-a),localStorage.setItem("carrito",JSON.stringify(c))},clearCart:function(){i([]),O(0),localStorage.clear()}};return Object(o.jsx)(u,{value:x,children:t})},x=c.p+"static/media/logo_header.fa2cb2af.png";var h=function(e){var t=e.links,c=O().cantidadProductos;return Object(o.jsxs)("header",{className:"head",style:{backgroundImage:"url(".concat(x,")")},children:[Object(o.jsx)("div",{}),Object(o.jsxs)("div",{className:"titulo",children:[Object(o.jsx)("nav",{children:Object(o.jsx)("ul",{children:t.map((function(e,t){return Object(o.jsx)("li",{children:Object(o.jsxs)(i.c,{to:e.href,children:[e.name," "]})},t)}))})}),Object(o.jsx)(j,{cantidadProductos:c})]})]})},f=c(25),p=c(45),v=c(30);var g=function(e){var t=e.e;return Object(o.jsx)(i.b,{to:"/item/"+t.id,className:"navbar-brand ",children:Object(o.jsxs)(f.a,{style:{width:"18rem"},children:[Object(o.jsxs)(f.a.Body,{children:[Object(o.jsx)(f.a.Title,{children:t.name}),Object(o.jsx)(f.a.Text,{children:t.description})]}),Object(o.jsxs)(p.a,{className:"list-group-flush d-flex flex-column",children:[Object(o.jsxs)(v.a,{children:["$ ",t.price]}),Object(o.jsx)(v.a,{className:"botoncarrito mt-auto",children:"Agregar al carrito"})]})]})})};var N=function(e){var t=e.productos;return Object(o.jsx)("div",{className:"cardContainer",children:t.map((function(e){return Object(o.jsx)(g,{e:e},e.id)}))})},C=c(71),y=c(16),S=c(54),I=c(18),w=Object(S.a)({apiKey:"AIzaSyB-6rbrZFUILOPDkzQekqKinCglczfDtDM",authDomain:"react-19970.firebaseapp.com",projectId:"react-19970",storageBucket:"react-19970.appspot.com",messagingSenderId:"385473747471",appId:"1:385473747471:web:103b6b391629568a39617a"}),k=Object(I.f)(w);var E=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!1),i=Object(d.a)(n,2),s=i[0],j=i[1],b=Object(a.useState)([]),u=Object(d.a)(b,2),O=u[0],m=u[1],x=Object(y.g)().filter;return Object(a.useEffect)((function(){var e=Object(I.b)(k,"productos");if(x){var t=Object(I.g)(e,Object(I.i)("category","==",x));Object(I.e)(t).then((function(e){var t=e.docs;m(t.map((function(e){return Object(l.a)({id:e.id},e.data())}))),j(!0)})).catch((function(e){j(!0),r(e)}))}else Object(I.e)(e).then((function(e){var t=e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})}));j(!0),m(t)})).catch((function(e){j(!0),r(e)}))}),[x]),c?Object(o.jsxs)("div",{children:["Error: ",c.message]}):s?Object(o.jsx)(N,{productos:O.slice(0)}):Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)(C.a,{animation:"border",role:"status",children:Object(o.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(o.jsx)("p",{className:"mx-4",children:"Loading...."})]})},T=c(72);var B=function(e){var t=e.itemId,c=e.quitar;return Object(o.jsx)(T.a,{variant:"danger",className:"botonBorrar",onClick:function(){c(t)},children:"X"})};var P=function(e){var t=e.itemCarrito,c=e.quitar;return Object(o.jsxs)("tr",{className:"text-center",children:[Object(o.jsx)("td",{className:"text-primary fw-bold",children:t.cantidad}),Object(o.jsx)("td",{className:"text-primary fw-bold",children:t.name}),Object(o.jsx)("td",{className:"text-primary fw-bold",children:t.price*t.cantidad}),Object(o.jsx)("td",{children:Object(o.jsx)(B,{itemId:t.id,quitar:c})})]})},q=c(73);var J=function(e){var t=e.clearCart,c=e.quitar,a=e.total,r=e.cart;return Object(o.jsxs)("div",{className:"conainer  d-flex flex-column me-4 mt-4 col-8 fs-4",children:[Object(o.jsxs)(q.a,{striped:!0,bordered:!0,hover:!0,children:[Object(o.jsx)("thead",{className:"text-white",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"Producto"}),Object(o.jsx)("th",{children:"Total"}),Object(o.jsx)("th",{children:"Quitar"})]})}),Object(o.jsxs)("tbody",{children:[r.length>0?r.map((function(e,t){return Object(o.jsx)(P,{itemCarrito:e,quitar:c},t)})):Object(o.jsx)("tr",{children:Object(o.jsxs)("td",{colSpan:4,children:[" ",Object(o.jsx)(i.b,{className:"navbar-brand text-success ",to:"/",children:"Ir a inicio...."})," "]})}),Object(o.jsxs)("tr",{className:"text-center",children:[Object(o.jsx)("td",{colSpan:2,className:"text-white fw-bold",children:"Totales"}),Object(o.jsxs)("td",{colSpan:2,className:"text-primary fw-bolder",children:["$ ",a]})]})]})]}),Object(o.jsx)("div",{className:"container row",children:Object(o.jsx)(T.a,{variant:"danger",className:"fs-5",onClick:t,children:"Vaciar carrito"})})]})},L=c(76);var A=function(e){var t=e.confirmarCompra;return Object(o.jsxs)(L.a,{id:"form",action:"#",onSubmit:t,className:"d-flex flex-column m-auto text-white fw-bold",children:[Object(o.jsxs)(L.a.Group,{className:"mb-3",controlId:"formNombre",children:[Object(o.jsx)(L.a.Label,{children:"Apellido y Nombre"}),Object(o.jsx)(L.a.Control,{type:"text",placeholder:"Ex. Juan Perez"})]}),Object(o.jsxs)(L.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(o.jsx)(L.a.Label,{children:"Direccion de mail"}),Object(o.jsx)(L.a.Control,{type:"email",placeholder:"exmple@gmail.com"})]}),Object(o.jsxs)(L.a.Group,{className:"mb-3",controlId:"formTel",children:[Object(o.jsx)(L.a.Label,{children:"Numero de telefono"}),Object(o.jsx)(L.a.Control,{type:"tel",placeholder:"Ex. 4567-4582"})]}),Object(o.jsx)(T.a,{variant:"primary",className:"fs-5",type:"submit",children:"Comprar"})]})};var D=function(){var e=O(),t=e.cart,c=e.delToCart,a=e.clearCart,r=0;return t.map((function(e){return r+=e.price*e.cantidad})),Object(o.jsxs)("div",{className:"tableContainer container",children:[Object(o.jsx)(J,{clearCart:a,quitar:function(e){c(e)},total:r,cart:t}),Object(o.jsx)(A,{confirmarCompra:function(e){e.preventDefault();var c=Object(I.b)(k,"ventas");Object(I.a)(c,{buyer:{nombre:document.getElementById("formNombre").value,mail:document.getElementById("formBasicEmail").value,tel:document.getElementById("formTel").value},items:t,date:Object(I.h)(),total:t.map((function(e){return r+=e.cantidad*e.price}))[0]}).then((function(e){return alert("Gracias por su compra, numero de operaci\xf3n  "+e.id)})),a(),e.target.reset()}})]})},z=c(74),G=c(75),K=c(55);var $=function(e){var t=e.producto,c=e.validar,a=e.incrementar,r=e.disminuir,n=e.counter,i=e.agregarCarrito;return Object(o.jsxs)(z.a,{fluid:!0,children:[Object(o.jsxs)(G.a,{children:[Object(o.jsx)(K.a,{children:Object(o.jsx)(T.a,{variant:"outline-danger",onClick:r,children:"-"})}),Object(o.jsxs)(K.a,{children:[" ",n," "]}),Object(o.jsx)(K.a,{children:Object(o.jsx)(T.a,{variant:"outline-danger",onClick:function(){return a(t.stock)},children:"+"})})]}),Object(o.jsx)(G.a,{children:Object(o.jsx)(K.a,{children:Object(o.jsx)(T.a,{variant:"outline-danger",className:"agregarProducto",onClick:function(){i(t),c()},children:"Agregar"})})})]})},Q=c(56);var F=function(e){var t=e.e,c=O().addToCart,r=Object(a.useState)(1),n=Object(d.a)(r,2),s=n[0],j=n[1],l=Object(a.useState)(!0),b=Object(d.a)(l,2),u=b[0],m=b[1];return Object(o.jsxs)(f.a,{style:{width:"18rem",margin:"auto"},children:[Object(o.jsxs)(f.a.Body,{children:[Object(o.jsx)(f.a.Title,{children:t.name}),Object(o.jsx)(f.a.Text,{children:t.desccription})]}),Object(o.jsxs)(p.a,{className:"list-group-flush",children:[Object(o.jsxs)(v.a,{children:["$ ",t.price]}),Object(o.jsx)(v.a,{children:u?Object(o.jsx)($,{producto:t,validar:function(){m(!u)},incrementar:function(e){e>s&&j(s+1)},disminuir:function(){s>1&&j(s-1)},counter:s,agregarCarrito:function(e){c(e,s)}}):Object(o.jsx)("h4",{children:Object(o.jsxs)(i.b,{to:"/carrito",children:["Producto Agregado ",Object(o.jsx)(Q.a,{})]})})})]})]})};var M=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!1),i=Object(d.a)(n,2),s=i[0],j=i[1],b=Object(a.useState)(null),u=Object(d.a)(b,2),O=u[0],m=u[1],x=Object(y.g)().id;return Object(a.useEffect)((function(){var e=Object(I.b)(k,"productos"),t=Object(I.c)(e,x);Object(I.d)(t).then((function(e){m(Object(l.a)({id:x},e.data())),j(!0)})).catch((function(e){j(!0),r(e)}))}),[x]),c?(console.log(c),Object(o.jsxs)("div",{children:["Error: ",c.message]})):s?Object(o.jsx)(F,{e:O}):Object(o.jsx)("div",{children:"Loading..."})},U=(c(68),c(69),[{href:"/",name:"Inicio",id:1},{href:"categoria/escritorio",name:"Computadoras de escritorio",id:2},{href:"categoria/portatil",name:"Equipos port\xe1tiles",id:3},{href:"categoria/tablet",name:"Tablets",id:4}]);var V=function(){return Object(o.jsx)(m,{children:Object(o.jsxs)(i.a,{children:[Object(o.jsx)(h,{nombre:"Alejandro",apellido:"Kmet",links:U}),Object(o.jsxs)(y.c,{children:[Object(o.jsx)(y.a,{path:"/",element:Object(o.jsx)(E,{})}),Object(o.jsx)(y.a,{path:"/item/:id",element:Object(o.jsx)(M,{})}),Object(o.jsx)(y.a,{path:"/:categoria/:filter",element:Object(o.jsx)(E,{})}),Object(o.jsx)(y.a,{path:"/carrito",element:Object(o.jsx)(D,{})})]})]})})};n.a.render(Object(o.jsx)(V,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.2f8d2938.chunk.js.map