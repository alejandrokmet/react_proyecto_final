(this["webpackJsonpalejandro-kmet"]=this["webpackJsonpalejandro-kmet"]||[]).push([[0],{62:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c(51),n=c.n(r),i=(c(62),c(21)),s=c(3);var o=function(e){var t=e.cantidadProductos;return Object(s.jsx)("div",{className:"carritoNav",children:Object(s.jsxs)(i.c,{to:"/carrito",children:[Object(s.jsx)("img",{src:"/assets/carrito.png",style:{width:"3rem",height:"2rem"},alt:"imagen en proceso"}),t>0?Object(s.jsx)("p",{id:"contadorCarrito",className:"text-white",children:t}):Object(s.jsx)("p",{})]})})},j=c(6),l=c(10),d=Object(a.createContext)(),b=d.Provider;function u(){return Object(a.useContext)(d)}var O=function(e){var t=e.children,c=Object(a.useState)(JSON.parse(localStorage.getItem("carrito"))||[]),r=Object(l.a)(c,2),n=r[0],i=r[1],o=Object(a.useState)(0),d=Object(l.a)(o,2),u=d[0],O=d[1];function m(e){return n.some((function(t){return t.id===e.id}))}Object(a.useEffect)((function(){var e=0;localStorage.getItem("carrito")&&JSON.parse(localStorage.getItem("carrito")).map((function(t){return e+=t.cantidad})),O(e)}),[]);var x={cart:n,cantidadProductos:u,addToCart:function(e,t){console.log(m(e));var c=n.slice(0),a=c.findIndex((function(t){return t.id===e.id}));-1===a?c.push(Object(j.a)(Object(j.a)({},e),{},{cantidad:t})):c[a].cantidad+=t,i(c),O(u+t),localStorage.setItem("carrito",JSON.stringify(c))},isInCart:m,delToCart:function(e){var t=n.slice(0),c=t.filter((function(t){return t.id!==e})),a=t.find((function(t){return t.id===e})).cantidad;i(c),O(u-a),localStorage.setItem("carrito",JSON.stringify(c))},clearCart:function(){i([]),O(0),localStorage.clear()}};return Object(s.jsx)(b,{value:x,children:t})},m=c.p+"static/media/logo_header.fa2cb2af.png";var x=function(e){var t=e.links,c=u().cantidadProductos;return Object(s.jsxs)("header",{className:"head",style:{backgroundImage:"url(".concat(m,")")},children:[Object(s.jsx)("div",{}),Object(s.jsxs)("div",{className:"titulo",children:[Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:t.map((function(e,t){return Object(s.jsx)("li",{children:Object(s.jsxs)(i.c,{to:e.href,children:[e.name," "]})},t)}))})}),Object(s.jsx)(o,{cantidadProductos:c})]})]})},h=c(25),f=c(45),p=c(30);var v=function(e){var t=e.e;return Object(s.jsx)(i.b,{to:"/item/"+t.id,className:"navbar-brand ",children:Object(s.jsxs)(h.a,{style:{width:"18rem"},children:[Object(s.jsx)(h.a.Img,{variant:"top",src:t.img,alt:"cargando"}),Object(s.jsxs)(h.a.Body,{children:[Object(s.jsx)(h.a.Title,{children:t.name}),Object(s.jsx)(h.a.Text,{children:t.description})]}),Object(s.jsxs)(f.a,{className:"list-group-flush d-flex flex-column",children:[Object(s.jsxs)(p.a,{children:["$ ",t.price]}),Object(s.jsx)(p.a,{className:"botoncarrito mt-auto",children:"Agregar al carrito"})]})]})})};var g=function(e){var t=e.productos;return Object(s.jsx)("div",{className:"cardContainer",children:t.map((function(e){return Object(s.jsx)(v,{e:e},e.id)}))})},N=c(71),C=c(16),y=c(54),I=c(18),S=Object(y.a)({apiKey:"AIzaSyB-6rbrZFUILOPDkzQekqKinCglczfDtDM",authDomain:"react-19970.firebaseapp.com",projectId:"react-19970",storageBucket:"react-19970.appspot.com",messagingSenderId:"385473747471",appId:"1:385473747471:web:103b6b391629568a39617a"}),w=Object(I.f)(S);var k=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],d=i[1],b=Object(a.useState)([]),u=Object(l.a)(b,2),O=u[0],m=u[1],x=Object(C.g)().filter;return Object(a.useEffect)((function(){var e=Object(I.b)(w,"productos");if(x){var t=Object(I.g)(e,Object(I.i)("category","==",x));Object(I.e)(t).then((function(e){var t=e.docs;m(t.map((function(e){return Object(j.a)({id:e.id},e.data())}))),d(!0)})).catch((function(e){d(!0),r(e)}))}else Object(I.e)(e).then((function(e){var t=e.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})}));d(!0),m(t)})).catch((function(e){d(!0),r(e)}))}),[x]),c?Object(s.jsxs)("div",{children:["Error: ",c.message]}):o?Object(s.jsx)(g,{productos:O.slice(0)}):Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)(N.a,{animation:"border",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("p",{className:"mx-4",children:"Loading...."})]})},E=c(72);var T=function(e){var t=e.itemId,c=e.quitar;return Object(s.jsx)(E.a,{variant:"danger",className:"botonBorrar",onClick:function(){c(t)},children:"X"})};var B=function(e){var t=e.itemCarrito,c=e.quitar;return Object(s.jsxs)("tr",{className:"text-center",children:[Object(s.jsx)("td",{className:"text-primary fw-bold",children:t.cantidad}),Object(s.jsx)("td",{className:"text-primary fw-bold",children:t.name}),Object(s.jsx)("td",{className:"text-primary fw-bold",children:t.price*t.cantidad}),Object(s.jsx)("td",{children:Object(s.jsx)(T,{itemId:t.id,quitar:c})})]})},P=c(73);var q=function(e){var t=e.clearCart,c=e.quitar,a=e.total,r=e.cart;return Object(s.jsxs)("div",{className:"conainer  d-flex flex-column me-4 mt-4 col-8 fs-4",children:[Object(s.jsxs)(P.a,{striped:!0,bordered:!0,hover:!0,children:[Object(s.jsx)("thead",{className:"text-white",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"#"}),Object(s.jsx)("th",{children:"Producto"}),Object(s.jsx)("th",{children:"Total"}),Object(s.jsx)("th",{children:"Quitar"})]})}),Object(s.jsxs)("tbody",{children:[r.length>0?r.map((function(e,t){return Object(s.jsx)(B,{itemCarrito:e,quitar:c},t)})):Object(s.jsx)("tr",{children:Object(s.jsxs)("td",{colSpan:4,children:[" ",Object(s.jsx)(i.b,{className:"navbar-brand text-success ",to:"/",children:"Ir a inicio...."})," "]})}),Object(s.jsxs)("tr",{className:"text-center",children:[Object(s.jsx)("td",{colSpan:2,className:"text-white fw-bold",children:"Totales"}),Object(s.jsxs)("td",{colSpan:2,className:"text-primary fw-bolder",children:["$ ",a]})]})]})]}),Object(s.jsx)("div",{className:"container row",children:Object(s.jsx)(E.a,{variant:"danger",className:"fs-5",onClick:t,children:"Vaciar carrito"})})]})},J=c(76);var L=function(e){var t=e.confirmarCompra;return Object(s.jsxs)(J.a,{id:"form",action:"#",onSubmit:t,className:"d-flex flex-column m-auto text-white fw-bold",children:[Object(s.jsxs)(J.a.Group,{className:"mb-3",controlId:"formNombre",children:[Object(s.jsx)(J.a.Label,{children:"Apellido y Nombre"}),Object(s.jsx)(J.a.Control,{type:"text",placeholder:"Ex. Juan Perez"})]}),Object(s.jsxs)(J.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(s.jsx)(J.a.Label,{children:"Direccion de mail"}),Object(s.jsx)(J.a.Control,{type:"email",placeholder:"exmple@gmail.com"})]}),Object(s.jsxs)(J.a.Group,{className:"mb-3",controlId:"formTel",children:[Object(s.jsx)(J.a.Label,{children:"Numero de telefono"}),Object(s.jsx)(J.a.Control,{type:"tel",placeholder:"Ex. 4567-4582"})]}),Object(s.jsx)(E.a,{variant:"primary",className:"fs-5",type:"submit",children:"Comprar"})]})};var A=function(){var e=u(),t=e.cart,c=e.delToCart,a=e.clearCart,r=0;return t.map((function(e){return r+=e.price*e.cantidad})),Object(s.jsxs)("div",{className:"tableContainer container",children:[Object(s.jsx)(q,{clearCart:a,quitar:function(e){c(e)},total:r,cart:t}),Object(s.jsx)(L,{confirmarCompra:function(e){e.preventDefault();var c=Object(I.b)(w,"ventas");Object(I.a)(c,{buyer:{nombre:document.getElementById("formNombre").value,mail:document.getElementById("formBasicEmail").value,tel:document.getElementById("formTel").value},items:t,date:Object(I.h)(),total:t.map((function(e){return r+=e.cantidad*e.price}))[0]}).then((function(e){return alert("Gracias por su compra, numero de operaci\xf3n  "+e.id)})),a(),e.target.reset()}})]})},D=c(74),z=c(75),G=c(55);var K=function(e){var t=e.producto,c=e.validar,a=e.incrementar,r=e.disminuir,n=e.counter,i=e.agregarCarrito;return Object(s.jsxs)(D.a,{fluid:!0,children:[Object(s.jsxs)(z.a,{children:[Object(s.jsx)(G.a,{children:Object(s.jsx)(E.a,{variant:"outline-danger",onClick:r,children:"-"})}),Object(s.jsxs)(G.a,{children:[" ",n," "]}),Object(s.jsx)(G.a,{children:Object(s.jsx)(E.a,{variant:"outline-danger",onClick:function(){return a(t.stock)},children:"+"})})]}),Object(s.jsx)(z.a,{children:Object(s.jsx)(G.a,{children:Object(s.jsx)(E.a,{variant:"outline-danger",className:"agregarProducto",onClick:function(){i(t),c()},children:"Agregar"})})})]})},$=c(56);var Q=function(e){var t=e.e,c=u().addToCart,r=Object(a.useState)(1),n=Object(l.a)(r,2),o=n[0],j=n[1],d=Object(a.useState)(!0),b=Object(l.a)(d,2),O=b[0],m=b[1];return Object(s.jsxs)(h.a,{style:{width:"18rem",margin:"auto"},children:[Object(s.jsx)(h.a.Img,{variant:"top",src:t.img,alt:"cargando"}),Object(s.jsxs)(h.a.Body,{children:[Object(s.jsx)(h.a.Title,{children:t.name}),Object(s.jsx)(h.a.Text,{children:t.desccription})]}),Object(s.jsxs)(f.a,{className:"list-group-flush",children:[Object(s.jsxs)(p.a,{children:["$ ",t.price]}),Object(s.jsx)(p.a,{children:O?Object(s.jsx)(K,{producto:t,validar:function(){m(!O)},incrementar:function(e){e>o&&j(o+1)},disminuir:function(){o>1&&j(o-1)},counter:o,agregarCarrito:function(e){c(e,o)}}):Object(s.jsx)("h4",{children:Object(s.jsxs)(i.b,{to:"/carrito",children:["Producto Agregado ",Object(s.jsx)($.a,{})]})})})]})]})};var F=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!1),i=Object(l.a)(n,2),o=i[0],d=i[1],b=Object(a.useState)(null),u=Object(l.a)(b,2),O=u[0],m=u[1],x=Object(C.g)().id;return Object(a.useEffect)((function(){var e=Object(I.b)(w,"productos"),t=Object(I.c)(e,x);Object(I.d)(t).then((function(e){m(Object(j.a)({id:x},e.data())),d(!0)})).catch((function(e){d(!0),r(e)}))}),[x]),c?(console.log(c),Object(s.jsxs)("div",{children:["Error: ",c.message]})):o?Object(s.jsx)(Q,{e:O}):Object(s.jsx)("div",{children:"Loading..."})},M=(c(68),c(69),[{href:"/",name:"Inicio",id:1},{href:"categoria/escritorio",name:"Computadoras de escritorio",id:2},{href:"categoria/portatil",name:"Equipos port\xe1tiles",id:3},{href:"categoria/tablet",name:"Tablets",id:4}]);var U=function(){return Object(s.jsx)(O,{children:Object(s.jsxs)(i.a,{children:[Object(s.jsx)(x,{nombre:"Alejandro",apellido:"Kmet",links:M}),Object(s.jsxs)(C.c,{children:[Object(s.jsx)(C.a,{path:"/",element:Object(s.jsx)(k,{})}),Object(s.jsx)(C.a,{path:"/item/:id",element:Object(s.jsx)(F,{})}),Object(s.jsx)(C.a,{path:"/:categoria/:filter",element:Object(s.jsx)(k,{})}),Object(s.jsx)(C.a,{path:"/carrito",element:Object(s.jsx)(A,{})})]})]})})};n.a.render(Object(s.jsx)(U,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.61b60752.chunk.js.map